{"version":3,"sources":["../../../src/conn/mongo/ConnectMongoConnection.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;mCAA+B,uBAAuB;;;;8BAClC,iBAAiB;;;;4BACjB,eAAe;;;;2BACX,gBAAgB;;;;IAElC,sBAAsB;cAAtB,sBAAsB;;AAEb,aAFT,sBAAsB,CAEZ,IAAI,EAAE,OAAO,EAAE;8BAFzB,sBAAsB;;AAGpB,mCAHF,sBAAsB,6CAGd,IAAI,EAAE,OAAO,EAAE;AACrB,YAAI,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,IAC/B,OAAO,CAAC,GAAG,CAAC,SAAS,IACrB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;KAC7B;;iBAPC,sBAAsB;;eAShB,kBAAC,OAAO,EAAE,MAAM,EAAE;;AAEtB,gBAAI,eAAe,GAAG,2DAAe,CAAC;;AAEtC,gBAAG,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,QAAQ,EACzC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,yBAAY,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;;AAE5E,gBAAI,CAAC,UAAU,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACpD,mBAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAE5B;;;eAEQ,mBAAC,OAAO,EAAE,MAAM,EAAE;;AAEvB,mBAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAE5B;;;WAzBC,sBAAsB;;;qBA4Bb,sBAAsB","file":"ConnectMongoConnection.js","sourcesContent":["import AbstractConnection from '../AbstractConnection';\nimport session from 'express-session';\nimport cmongo from  'connect-mongo';\nimport Connections from '../Connections';\n\nclass ConnectMongoConnection extends AbstractConnection {\n\n    constructor(name, options) {\n        super(name, options);\n        this.options.url = this.options.url ||\n            process.env.MONGO_URI ||\n            process.env.MONGO_URI;\n    }\n\n    __open__(resolve, reject) {\n\n        var MongoConnection = cmongo(session);\n\n        if(typeof this.options.store === 'string')\n        this.options.store = Connections.getConnection(this.options.store).getRaw();\n\n        this.connection = new MongoConnection(this.options);\n        resolve(this.connection);\n\n    }\n\n    __close__(resolve, reject) {\n\n        resolve(this.connection);\n\n    }\n}\n\nexport default ConnectMongoConnection"]}