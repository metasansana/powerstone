{"version":3,"sources":["../../../src/conn/mongo/MongooseConnection.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;mCAA+B,uBAAuB;;;;wBACjC,UAAU;;;;IAEzB,kBAAkB;cAAlB,kBAAkB;;AAET,aAFT,kBAAkB,CAER,IAAI,EAAE,OAAO,EAAE;8BAFzB,kBAAkB;;AAGhB,mCAHF,kBAAkB,6CAGV,IAAI,EAAE,OAAO,EAAE;AACrB,YAAI,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,IAC/B,OAAO,CAAC,GAAG,CAAC,SAAS,IACrB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;KAC7B;;iBAPC,kBAAkB;;eASZ,kBAAC,OAAO,EAAE,MAAM,EAAE;;AAEtB,gBAAI,CAAC,UAAU,GAAG,sBAAS,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AAC5E,gBAAI,CAAC,MAAM,GAAG,sBAAS,MAAM,CAAC;;AAE9B,gBAAI,CAAC,UAAU,CAAC,EAAE,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE;AACtC,oBAAI,GAAG,EAAE,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;AAC5B,uBAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aAC5B,CAAC,CAAC;;AAEH,gBAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,GAAG,EAAE;AACvC,sBAAM,GAAG,CAAA;aACZ,CAAC,CAAC;SAGN;;;eAEQ,mBAAC,OAAO,EAAE,MAAM,EAAE;AACvB,gBAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;SAClC;;;WA5BC,kBAAkB;;;qBAgCT,kBAAkB","file":"MongooseConnection.js","sourcesContent":["import AbstractConnection from '../AbstractConnection';\nimport mongoose from 'mongoose';\n\nclass MongooseConnection extends AbstractConnection {\n\n    constructor(name, options) {\n        super(name, options);\n        this.options.url = this.options.url ||\n            process.env.MONGO_URI ||\n            process.env.MONGO_URI;\n    }\n\n    __open__(resolve, reject) {\n\n        this.connection = mongoose.createConnection(this.options.url, this.options);\n        this.Schema = mongoose.Schema;\n\n        this.connection.on('open', function (err) {\n            if (err) return reject(err);\n            resolve(this.connection);\n        });\n\n        this.connection.on('error', function (err) {\n            throw err\n        });\n\n\n    }\n\n    __close__(resolve, reject) {\n        this.connection.close(resolve);\n    }\n\n}\n\nexport default MongooseConnection;"]}