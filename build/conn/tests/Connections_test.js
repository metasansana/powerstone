'use strict';

var must = require('must');

var Mongoose = require('../Mongoose');
var Connections = require('../Connections');
var UnsupportedConnectionTypeError = require('../UnsupportedConnectionTypeError');

describe('Connections', function () {

    it('must provide the correct connection instance', function () {
        Connections.create('main', 'mongoose', {}).must.be.an.instanceOf(Mongoose);
    });

    it('must throw when a connection is not found', function () {

        try {
            Connections.create('main', 'monkey', {});
        } catch (e) {

            e.must.be.an.instanceOf(UnsupportedConnectionTypeError);
        }
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb25uL3Rlc3RzL0Nvbm5lY3Rpb25zX3Rlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRTNCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN0QyxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUM1QyxJQUFJLDhCQUE4QixHQUFHLE9BQU8sQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDOztBQUdsRixRQUFRLENBQUMsYUFBYSxFQUFFLFlBQVk7O0FBRWhDLE1BQUUsQ0FBQyw4Q0FBOEMsRUFBRSxZQUFZO0FBQzNELG1CQUFXLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQzlFLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsMkNBQTJDLEVBQUUsWUFBWTs7QUFFeEQsWUFBSTtBQUNBLHVCQUFXLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUE7U0FDM0MsQ0FBQyxPQUFPLENBQUMsRUFBRTs7QUFFUixhQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLDhCQUE4QixDQUFDLENBQUM7U0FFM0Q7S0FDSixDQUFDLENBQUE7Q0FFTCxDQUFDLENBQUMiLCJmaWxlIjoiQ29ubmVjdGlvbnNfdGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtdXN0ID0gcmVxdWlyZSgnbXVzdCcpO1xuXG52YXIgTW9uZ29vc2UgPSByZXF1aXJlKCcuLi9Nb25nb29zZScpO1xudmFyIENvbm5lY3Rpb25zID0gcmVxdWlyZSgnLi4vQ29ubmVjdGlvbnMnKTtcbnZhciBVbnN1cHBvcnRlZENvbm5lY3Rpb25UeXBlRXJyb3IgPSByZXF1aXJlKCcuLi9VbnN1cHBvcnRlZENvbm5lY3Rpb25UeXBlRXJyb3InKTtcblxuXG5kZXNjcmliZSgnQ29ubmVjdGlvbnMnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICBpdCgnbXVzdCBwcm92aWRlIHRoZSBjb3JyZWN0IGNvbm5lY3Rpb24gaW5zdGFuY2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIENvbm5lY3Rpb25zLmNyZWF0ZSgnbWFpbicsICdtb25nb29zZScsIHt9KS5tdXN0LmJlLmFuLmluc3RhbmNlT2YoTW9uZ29vc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ211c3QgdGhyb3cgd2hlbiBhIGNvbm5lY3Rpb24gaXMgbm90IGZvdW5kJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBDb25uZWN0aW9ucy5jcmVhdGUoJ21haW4nLCAnbW9ua2V5Jywge30pXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcblxuICAgICAgICAgICAgZS5tdXN0LmJlLmFuLmluc3RhbmNlT2YoVW5zdXBwb3J0ZWRDb25uZWN0aW9uVHlwZUVycm9yKTtcblxuICAgICAgICB9XG4gICAgfSlcblxufSk7XG4iXX0=