'use strict';

var must = require('must');
var Mongoose = require('../Mongoose');

var service;
var list = [];

describe('Mongoose', function () {

	it('should work', function () {

		service = new Mongoose('default', { url: 'mongodb://localhost/powerstone-testing' }, list);

		return service.open().then(function () {

			must(service.store).not.be.undefined();
			must(service.store.readyState).equal(1);
			return service.close();
		}).then(function () {

			must(service.store.readyState).equal(0);
		});
	});
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb25uL3Rlc3RzL01vbmdvb3NlX3Rlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDM0IsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDOztBQUV0QyxJQUFJLE9BQU8sQ0FBQztBQUNaLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFZCxRQUFRLENBQUMsVUFBVSxFQUFFLFlBQVk7O0FBRWhDLEdBQUUsQ0FBQyxhQUFhLEVBQUUsWUFBVzs7QUFFNUIsU0FBTyxHQUFHLElBQUksUUFBUSxDQUFDLFNBQVMsRUFBRSxFQUFDLEdBQUcsRUFBQyx3Q0FBd0MsRUFBQyxFQUFFLElBQUksQ0FBQyxDQUFDOztBQUV4RixTQUFPLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FDcEIsSUFBSSxDQUFDLFlBQVc7O0FBRWYsT0FBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDO0FBQ3ZDLE9BQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QyxVQUFPLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztHQUV2QixDQUFDLENBQ0YsSUFBSSxDQUFDLFlBQVc7O0FBRWYsT0FBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBRXhDLENBQUMsQ0FBQTtFQUVILENBQUMsQ0FBQztDQUdILENBQUMsQ0FBQyIsImZpbGUiOiJNb25nb29zZV90ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG11c3QgPSByZXF1aXJlKCdtdXN0Jyk7XG52YXIgTW9uZ29vc2UgPSByZXF1aXJlKCcuLi9Nb25nb29zZScpO1xuXG52YXIgc2VydmljZTtcbnZhciBsaXN0ID0gW107XG5cbmRlc2NyaWJlKCdNb25nb29zZScsIGZ1bmN0aW9uICgpIHtcblxuXHRpdCgnc2hvdWxkIHdvcmsnLCBmdW5jdGlvbigpIHtcblxuXHRcdHNlcnZpY2UgPSBuZXcgTW9uZ29vc2UoJ2RlZmF1bHQnLCB7dXJsOidtb25nb2RiOi8vbG9jYWxob3N0L3Bvd2Vyc3RvbmUtdGVzdGluZyd9LCBsaXN0KTtcblxuXHRcdHJldHVybiBzZXJ2aWNlLm9wZW4oKS5cblx0XHRcdHRoZW4oZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0bXVzdChzZXJ2aWNlLnN0b3JlKS5ub3QuYmUudW5kZWZpbmVkKCk7XG5cdFx0XHRcdG11c3Qoc2VydmljZS5zdG9yZS5yZWFkeVN0YXRlKS5lcXVhbCgxKTtcblx0XHRcdFx0cmV0dXJuIHNlcnZpY2UuY2xvc2UoKTtcblxuXHRcdFx0fSkuXG5cdFx0XHR0aGVuKGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdG11c3Qoc2VydmljZS5zdG9yZS5yZWFkeVN0YXRlKS5lcXVhbCgwKTtcblxuXHRcdFx0fSlcblx0XHRcblx0fSk7XG5cblx0XG59KTtcbiJdfQ==