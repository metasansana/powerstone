'use strict';

var must = require('must');

var Mongoose = require('../Mongoose');
var Connections = require('../Connections');
var UnsupportedConnectionTypeError = require('../UnsupportedConnectionTypeError');

describe('Connections', function () {

    it('must provide the correct connection instance', function () {
        Connections.create('main', 'mongoose', {}).must.be.an.instanceOf(Mongoose);
    });

    it('must throw when a connection is not found', function () {

        try {
            Connections.create('main', 'monkey', {});
        } catch (e) {

            e.must.be.an.instanceOf(UnsupportedConnectionTypeError);
        }
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb25uZWN0aW9ucy90ZXN0cy9Db25uZWN0aW9uc190ZXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUUzQixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDdEMsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFDNUMsSUFBSSw4QkFBOEIsR0FBRyxPQUFPLENBQUMsbUNBQW1DLENBQUMsQ0FBQzs7QUFHbEYsUUFBUSxDQUFDLGFBQWEsRUFBRSxZQUFZOztBQUVoQyxNQUFFLENBQUMsOENBQThDLEVBQUUsWUFBWTtBQUMzRCxtQkFBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUM5RSxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDJDQUEyQyxFQUFFLFlBQVk7O0FBRXhELFlBQUk7QUFDQSx1QkFBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFBO1NBQzNDLENBQUMsT0FBTyxDQUFDLEVBQUU7O0FBRVIsYUFBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1NBRTNEO0tBQ0osQ0FBQyxDQUFBO0NBRUwsQ0FBQyxDQUFDIiwiZmlsZSI6IkNvbm5lY3Rpb25zX3Rlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXVzdCA9IHJlcXVpcmUoJ211c3QnKTtcblxudmFyIE1vbmdvb3NlID0gcmVxdWlyZSgnLi4vTW9uZ29vc2UnKTtcbnZhciBDb25uZWN0aW9ucyA9IHJlcXVpcmUoJy4uL0Nvbm5lY3Rpb25zJyk7XG52YXIgVW5zdXBwb3J0ZWRDb25uZWN0aW9uVHlwZUVycm9yID0gcmVxdWlyZSgnLi4vVW5zdXBwb3J0ZWRDb25uZWN0aW9uVHlwZUVycm9yJyk7XG5cblxuZGVzY3JpYmUoJ0Nvbm5lY3Rpb25zJywgZnVuY3Rpb24gKCkge1xuXG4gICAgaXQoJ211c3QgcHJvdmlkZSB0aGUgY29ycmVjdCBjb25uZWN0aW9uIGluc3RhbmNlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBDb25uZWN0aW9ucy5jcmVhdGUoJ21haW4nLCAnbW9uZ29vc2UnLCB7fSkubXVzdC5iZS5hbi5pbnN0YW5jZU9mKE1vbmdvb3NlKTtcbiAgICB9KTtcblxuICAgIGl0KCdtdXN0IHRocm93IHdoZW4gYSBjb25uZWN0aW9uIGlzIG5vdCBmb3VuZCcsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ29ubmVjdGlvbnMuY3JlYXRlKCdtYWluJywgJ21vbmtleScsIHt9KVxuICAgICAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgICAgICAgIGUubXVzdC5iZS5hbi5pbnN0YW5jZU9mKFVuc3VwcG9ydGVkQ29ubmVjdGlvblR5cGVFcnJvcik7XG5cbiAgICAgICAgfVxuICAgIH0pXG5cbn0pO1xuIl19