'use strict';

var must = require('must');
var Mongoose = require('../Mongoose');

var service;
var list = [];

describe('Mongoose', function () {

	it('should work', function () {

		service = new Mongoose('default', { url: 'mongodb://localhost/powerstone-testing' }, list);

		return service.open().then(function () {

			must(service.store).not.be.undefined();
			must(service.store.readyState).equal(1);
			return service.close();
		}).then(function () {

			must(service.store.readyState).equal(0);
		});
	});
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb25uZWN0aW9ucy90ZXN0cy9Nb25nb29zZV90ZXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzNCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQzs7QUFFdEMsSUFBSSxPQUFPLENBQUM7QUFDWixJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7O0FBRWQsUUFBUSxDQUFDLFVBQVUsRUFBRSxZQUFZOztBQUVoQyxHQUFFLENBQUMsYUFBYSxFQUFFLFlBQVc7O0FBRTVCLFNBQU8sR0FBRyxJQUFJLFFBQVEsQ0FBQyxTQUFTLEVBQUUsRUFBQyxHQUFHLEVBQUMsd0NBQXdDLEVBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzs7QUFFeEYsU0FBTyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQ3BCLElBQUksQ0FBQyxZQUFXOztBQUVmLE9BQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztBQUN2QyxPQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEMsVUFBTyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7R0FFdkIsQ0FBQyxDQUNGLElBQUksQ0FBQyxZQUFXOztBQUVmLE9BQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztHQUV4QyxDQUFDLENBQUE7RUFFSCxDQUFDLENBQUM7Q0FHSCxDQUFDLENBQUMiLCJmaWxlIjoiTW9uZ29vc2VfdGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtdXN0ID0gcmVxdWlyZSgnbXVzdCcpO1xudmFyIE1vbmdvb3NlID0gcmVxdWlyZSgnLi4vTW9uZ29vc2UnKTtcblxudmFyIHNlcnZpY2U7XG52YXIgbGlzdCA9IFtdO1xuXG5kZXNjcmliZSgnTW9uZ29vc2UnLCBmdW5jdGlvbiAoKSB7XG5cblx0aXQoJ3Nob3VsZCB3b3JrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRzZXJ2aWNlID0gbmV3IE1vbmdvb3NlKCdkZWZhdWx0Jywge3VybDonbW9uZ29kYjovL2xvY2FsaG9zdC9wb3dlcnN0b25lLXRlc3RpbmcnfSwgbGlzdCk7XG5cblx0XHRyZXR1cm4gc2VydmljZS5vcGVuKCkuXG5cdFx0XHR0aGVuKGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdG11c3Qoc2VydmljZS5zdG9yZSkubm90LmJlLnVuZGVmaW5lZCgpO1xuXHRcdFx0XHRtdXN0KHNlcnZpY2Uuc3RvcmUucmVhZHlTdGF0ZSkuZXF1YWwoMSk7XG5cdFx0XHRcdHJldHVybiBzZXJ2aWNlLmNsb3NlKCk7XG5cblx0XHRcdH0pLlxuXHRcdFx0dGhlbihmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRtdXN0KHNlcnZpY2Uuc3RvcmUucmVhZHlTdGF0ZSkuZXF1YWwoMCk7XG5cblx0XHRcdH0pXG5cdFx0XG5cdH0pO1xuXG5cdFxufSk7XG4iXX0=