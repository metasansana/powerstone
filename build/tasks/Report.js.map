{"version":3,"sources":["../../src/tasks/Report.js"],"names":[],"mappings":";;;;;;;;;;;;;IAGM,MAAM;AAEG,aAFT,MAAM,CAEI,QAAQ,EAAE;8BAFpB,MAAM;;AAGJ,YAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,YAAI,CAAC,MAAM,GAAG,EAAC,cAAc,EAAE,CAAC,EAAE,uBAAuB,EAAE,CAAC,EAAC,CAAC;KACjE;;iBALC,MAAM;;eAOG,qBAAC,MAAM,EAAE;AAChB,gBAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;AAC5B,gBAAI,CAAC,MAAM,CAAC,WAAW,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;SAC9C;;;eAEY,uBAAC,OAAO,EAAE;AACnB,gBAAI,CAAC,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AACzC,gBAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AAC/D,gBAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;AAC5B,gBAAI,CAAC,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,GAAE,CAAC,CAAC;AAC3D,gBAAI,CAAC,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC;AAC9B,gBAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACzC,gBAAI,CAAC,KAAK,EAAE,CAAC;SAChB;;;eAEqB,gCAAC,GAAG,EAAE;AACxB,gBAAI,CAAC,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AACzC,gBAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AAC/D,gBAAI,CAAC,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;AAC9B,gBAAI,CAAC,MAAM,CAAC,MAAM,GAAG,OAAO,CAAC;AAC7B,gBAAI,CAAC,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;AAClC,gBAAI,CAAC,MAAM,CAAC,uBAAuB,GAAG,IAAI,CAAC,MAAM,CAAC,uBAAuB,GAAC,CAAC,CAAC;AAC5E,gBAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACzC,gBAAI,CAAC,KAAK,EAAE,CAAC;SAChB;;;eAEI,iBAAG;AACJ,gBAAI,CAAC,MAAM,GAAG,EAAE,CAAC;SACpB;;;WAnCC,MAAM;;;qBAuCG,MAAM","file":"Report.js","sourcesContent":["/**\n * Report\n */\nclass Report {\n\n    constructor(recorder) {\n        this.recorder = recorder;\n        this.report = {timesCompleted: 0, timesCompletedWithError: 0};\n    }\n\n    taskStarted(taskID) {\n        this.report.taskID = taskID;\n        this.report.timeStarted = process.hrtime();\n    }\n\n    taskCompleted(message) {\n        this.report.timeEnded = process.hrtime();\n        this.report.duration = process.hrtime(this.report.timeStarted);\n        this.report.status = 'GOOD';\n        this.report.timesCompleted = this.report.timesCompleted +1;\n        this.report.message = message;\n        this.recorder.taskCompleted(this.report);\n        this.reset();\n    }\n\n    taskCompletedWithError(err) {\n        this.report.timeEnded = process.hrtime();\n        this.report.duration = process.hrtime(this.report.timeStarted);\n        this.report.stack = err.stack;\n        this.report.status = 'ERROR';\n        this.report.message = err.message;\n        this.report.timesCompletedWithError = this.report.timesCompletedWithError+1;\n        this.recorder.taskCompleted(this.report);\n        this.reset();\n    }\n\n    reset() {\n        this.report = {};\n    }\n\n}\n\nexport default Report\n"]}