{"version":3,"sources":["../../src/web/Routing.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;+BAC2B,mBAAmB;;;;sBAC3B,WAAW;;;;;;;;IAKxB,OAAO;cAAP,OAAO;;aAAP,OAAO;8BAAP,OAAO;;mCAAP,OAAO;;;iBAAP,OAAO;;eAEA,mBAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE;;;AAE3B,gCAAO,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAC,KAAK,EAAI;;AAErC,sBAAK,eAAe,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;AACzC,sBAAK,mBAAmB,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;AAC7C,sBAAK,gBAAgB,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;AAC1C,sBAAK,oBAAoB,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;AAC9C,sBAAK,cAAc,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;aAE3C,CAAC,CAAC;SAEN;;;eAEa,wBAAC,MAAM,EAAE,KAAK,EAAE;;AAE1B,gBAAI,KAAK,CAAC,IAAI,EACV,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;;AAEvC,oBAAI,MAAM,GAAG,GAAG,CAAC,MAAM,IAAI,EAAE,CAAC;AAC9B,oBAAI,OAAO,GAAG,GAAG,CAAC,OAAO,IAAI,EAAE,CAAC;;AAEhC,oBAAI,KAAK,CAAC,MAAM,EACZ,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;;AAEzC,oBAAI,KAAK,CAAC,OAAO,EAAE;AACf,yBAAK,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACjC,8BAAM,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;qBAC9B,CAAC,CAAC;iBACN;;AAED,mBAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;aAElC,CAAC,CAAC;;AAGP,mBAAO,IAAI,CAAC;SAEf;;;WAxCC,OAAO;;;qBA4CE,IAAI,OAAO,EAAE","file":"Routing.js","sourcesContent":["\nimport GeneralRouting from '../GeneralRouting';\nimport Routes from '../Routes';\n\n/**\n * Routing\n */\nclass Routing extends GeneralRouting {\n\n    configure(app, routes, config) {\n\n        Routes.flatten(routes).forEach((route)=> {\n\n            this.configureSchema(app, route, config);\n            this.configureMiddleWare(app, route, config);\n            this.configureQueries(app, route, config);\n            this.configureControllers(app, route, config);\n            this.configureViews(app, route, config);\n\n        });\n\n    }\n\n    configureViews(router, route) {\n\n        if (route.view)\n            router.get(route.href, function (req, res) {\n\n                var locals = res.locals || {};\n                var session = req.session || {};\n\n                if (route.locals)\n                    locals = merge(locals, route.locals);\n\n                if (route.session) {\n                    route.session.forEach(function (key) {\n                        locals[key] = session[key];\n                    });\n                }\n\n                res.render(route.view, locals);\n\n            });\n\n\n        return this;\n\n    }\n\n}\n\nexport default new Routing()\n"]}