import PowerError from '../PowerError';

class UnsupportedMethodError extends PowerError {

    constructor(method, path) {

        super(`Unknown method '${ method }' declared for path '${ path }'`);
    }

}

/**
 * Route
 * @param {string} method 
 * @param {string} path 
 * @param {object} route 
 * @param {array<function>} actions 
 * @param {FrameworkApplication} app 
 */
class Route {

    constructor(method, path, actions, app) {

        actions.unshift(this.handleRoute.bind(this));

        if (!app[method]) throw new UnsupportedMethodError(method, path);

        app[method.toLowerCase()].apply(app, [path].concat(actions));
    }

    handleRoute(req, res, next) {

        next();
    }

}

export default Route;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vcm91dGUvUm91dGUuanMiXSwibmFtZXMiOlsiUG93ZXJFcnJvciIsIlVuc3VwcG9ydGVkTWV0aG9kRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1ldGhvZCIsInBhdGgiLCJSb3V0ZSIsImFjdGlvbnMiLCJhcHAiLCJ1bnNoaWZ0IiwiaGFuZGxlUm91dGUiLCJiaW5kIiwidG9Mb3dlckNhc2UiLCJhcHBseSIsImNvbmNhdCIsInJlcSIsInJlcyIsIm5leHQiXSwibWFwcGluZ3MiOiJBQUFBLE9BQU9BLFVBQVAsTUFBdUIsZUFBdkI7O0FBRUEsTUFBTUMsc0JBQU4sU0FBcUNELFVBQXJDLENBQWdEOztBQUU1Q0UsZ0JBQVlDLE1BQVosRUFBb0JDLElBQXBCLEVBQTBCOztBQUV0QixjQUFPLG9CQUFrQkQsTUFBTywwQkFBdUJDLElBQUssSUFBNUQ7QUFFSDs7QUFOMkM7O0FBVWhEOzs7Ozs7OztBQVFBLE1BQU1DLEtBQU4sQ0FBWTs7QUFFUkgsZ0JBQVlDLE1BQVosRUFBb0JDLElBQXBCLEVBQTBCRSxPQUExQixFQUFtQ0MsR0FBbkMsRUFBd0M7O0FBRXBDRCxnQkFBUUUsT0FBUixDQUFnQixLQUFLQyxXQUFMLENBQWlCQyxJQUFqQixDQUFzQixJQUF0QixDQUFoQjs7QUFFQSxZQUFJLENBQUNILElBQUlKLE1BQUosQ0FBTCxFQUNJLE1BQU0sSUFBSUYsc0JBQUosQ0FBMkJFLE1BQTNCLEVBQW1DQyxJQUFuQyxDQUFOOztBQUVKRyxZQUFJSixPQUFPUSxXQUFQLEVBQUosRUFBMEJDLEtBQTFCLENBQWdDTCxHQUFoQyxFQUFxQyxDQUFDSCxJQUFELEVBQU9TLE1BQVAsQ0FBY1AsT0FBZCxDQUFyQztBQUVIOztBQUVERyxnQkFBWUssR0FBWixFQUFpQkMsR0FBakIsRUFBc0JDLElBQXRCLEVBQTRCOztBQUV4QkE7QUFFSDs7QUFqQk87O0FBcUJaLGVBQWVYLEtBQWYiLCJmaWxlIjoiUm91dGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUG93ZXJFcnJvciBmcm9tICcuLi9Qb3dlckVycm9yJztcblxuY2xhc3MgVW5zdXBwb3J0ZWRNZXRob2RFcnJvciBleHRlbmRzIFBvd2VyRXJyb3Ige1xuXG4gICAgY29uc3RydWN0b3IobWV0aG9kLCBwYXRoKSB7XG5cbiAgICAgICAgc3VwZXIoYFVua25vd24gbWV0aG9kICcke21ldGhvZH0nIGRlY2xhcmVkIGZvciBwYXRoICcke3BhdGh9J2ApO1xuXG4gICAgfVxuXG59XG5cbi8qKlxuICogUm91dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBcbiAqIEBwYXJhbSB7b2JqZWN0fSByb3V0ZSBcbiAqIEBwYXJhbSB7YXJyYXk8ZnVuY3Rpb24+fSBhY3Rpb25zIFxuICogQHBhcmFtIHtGcmFtZXdvcmtBcHBsaWNhdGlvbn0gYXBwIFxuICovXG5jbGFzcyBSb3V0ZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXRob2QsIHBhdGgsIGFjdGlvbnMsIGFwcCkge1xuXG4gICAgICAgIGFjdGlvbnMudW5zaGlmdCh0aGlzLmhhbmRsZVJvdXRlLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGlmICghYXBwW21ldGhvZF0pXG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNZXRob2RFcnJvcihtZXRob2QsIHBhdGgpO1xuXG4gICAgICAgIGFwcFttZXRob2QudG9Mb3dlckNhc2UoKV0uYXBwbHkoYXBwLCBbcGF0aF0uY29uY2F0KGFjdGlvbnMpKTtcblxuICAgIH1cblxuICAgIGhhbmRsZVJvdXRlKHJlcSwgcmVzLCBuZXh0KSB7XG5cbiAgICAgICAgbmV4dCgpO1xuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJvdXRlXG4iXX0=