import Promise from 'bluebird';
import express from 'express';
import Application from '../common/Application';
import Configuration from '../common/Configuration';
import WebContext from './WebContext';
import WebModule from './WebModule';
import ServerFactory from './ServerFactory';

class Web extends Application {

    constructor(path) {

        super(path);

        this.main = new WebModule('', new Configuration('webconf', path), new WebContext(), this);

        this.frameworkApp = express();
    }

    __createServer() {
        return ServerFactory.createWebServer(this.frameworkApp, this.main);
    }

}

export default Web;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWIvV2ViLmpzIl0sIm5hbWVzIjpbIlByb21pc2UiLCJleHByZXNzIiwiQXBwbGljYXRpb24iLCJDb25maWd1cmF0aW9uIiwiV2ViQ29udGV4dCIsIldlYk1vZHVsZSIsIlNlcnZlckZhY3RvcnkiLCJXZWIiLCJjb25zdHJ1Y3RvciIsInBhdGgiLCJtYWluIiwiZnJhbWV3b3JrQXBwIiwiX19jcmVhdGVTZXJ2ZXIiLCJjcmVhdGVXZWJTZXJ2ZXIiXSwibWFwcGluZ3MiOiJBQUFBLE9BQU9BLE9BQVAsTUFBb0IsVUFBcEI7QUFDQSxPQUFPQyxPQUFQLE1BQW9CLFNBQXBCO0FBQ0EsT0FBT0MsV0FBUCxNQUF3Qix1QkFBeEI7QUFDQSxPQUFPQyxhQUFQLE1BQTBCLHlCQUExQjtBQUNBLE9BQU9DLFVBQVAsTUFBdUIsY0FBdkI7QUFDQSxPQUFPQyxTQUFQLE1BQXNCLGFBQXRCO0FBQ0EsT0FBT0MsYUFBUCxNQUEwQixpQkFBMUI7O0FBRUEsTUFBTUMsR0FBTixTQUFrQkwsV0FBbEIsQ0FBOEI7O0FBRTFCTSxnQkFBWUMsSUFBWixFQUFrQjs7QUFFZCxjQUFNQSxJQUFOOztBQUVBLGFBQUtDLElBQUwsR0FBWSxJQUFJTCxTQUFKLENBQWMsRUFBZCxFQUFrQixJQUFJRixhQUFKLENBQWtCLFNBQWxCLEVBQTZCTSxJQUE3QixDQUFsQixFQUNSLElBQUlMLFVBQUosRUFEUSxFQUNVLElBRFYsQ0FBWjs7QUFHQSxhQUFLTyxZQUFMLEdBQW9CVixTQUFwQjtBQUVIOztBQUVEVyxxQkFBaUI7QUFDYixlQUFPTixjQUFjTyxlQUFkLENBQThCLEtBQUtGLFlBQW5DLEVBQWlELEtBQUtELElBQXRELENBQVA7QUFDSDs7QUFmeUI7O0FBbUI5QixlQUFlSCxHQUFmIiwiZmlsZSI6IldlYi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IEFwcGxpY2F0aW9uIGZyb20gJy4uL2NvbW1vbi9BcHBsaWNhdGlvbic7XG5pbXBvcnQgQ29uZmlndXJhdGlvbiBmcm9tICcuLi9jb21tb24vQ29uZmlndXJhdGlvbic7XG5pbXBvcnQgV2ViQ29udGV4dCBmcm9tICcuL1dlYkNvbnRleHQnO1xuaW1wb3J0IFdlYk1vZHVsZSBmcm9tICcuL1dlYk1vZHVsZSc7XG5pbXBvcnQgU2VydmVyRmFjdG9yeSBmcm9tICcuL1NlcnZlckZhY3RvcnknO1xuXG5jbGFzcyBXZWIgZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXRoKSB7XG5cbiAgICAgICAgc3VwZXIocGF0aCk7XG5cbiAgICAgICAgdGhpcy5tYWluID0gbmV3IFdlYk1vZHVsZSgnJywgbmV3IENvbmZpZ3VyYXRpb24oJ3dlYmNvbmYnLCBwYXRoKSxcbiAgICAgICAgICAgIG5ldyBXZWJDb250ZXh0KCksIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZnJhbWV3b3JrQXBwID0gZXhwcmVzcygpO1xuXG4gICAgfVxuXG4gICAgX19jcmVhdGVTZXJ2ZXIoKSB7XG4gICAgICAgIHJldHVybiBTZXJ2ZXJGYWN0b3J5LmNyZWF0ZVdlYlNlcnZlcih0aGlzLmZyYW1ld29ya0FwcCwgdGhpcy5tYWluKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2ViXG4iXX0=