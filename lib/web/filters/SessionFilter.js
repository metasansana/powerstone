import session from 'express-session';

/**
 * SessionFilter 
 * @implements {Filter}
 */
class SessionFilter {

    apply(app, config) {

        if (config.read(config.keys.FILTERS_SESSION_ENABLED, false)) {

            app.use(session(config.read(config.keys.FILTERS_SESSION_OPTIONS, {}, {
                name: 'CRYINGZANGOLIE',
                secret: config.read(config.keys.SECRET, config.defaults.SECRET),
                resave: false,
                saveUninitialized: true,
                store: config.read(config.keys.FILTERS_SESSION_STORE, null)
            })));
        }
    }
}

export default new SessionFilter();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy93ZWIvZmlsdGVycy9TZXNzaW9uRmlsdGVyLmpzIl0sIm5hbWVzIjpbInNlc3Npb24iLCJTZXNzaW9uRmlsdGVyIiwiYXBwbHkiLCJhcHAiLCJjb25maWciLCJyZWFkIiwia2V5cyIsIkZJTFRFUlNfU0VTU0lPTl9FTkFCTEVEIiwidXNlIiwiRklMVEVSU19TRVNTSU9OX09QVElPTlMiLCJuYW1lIiwic2VjcmV0IiwiU0VDUkVUIiwiZGVmYXVsdHMiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsInN0b3JlIiwiRklMVEVSU19TRVNTSU9OX1NUT1JFIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxPQUFQLE1BQW9CLGlCQUFwQjs7QUFFQTs7OztBQUlBLE1BQU1DLGFBQU4sQ0FBb0I7O0FBRWhCQyxVQUFNQyxHQUFOLEVBQVdDLE1BQVgsRUFBbUI7O0FBRWYsWUFBSUEsT0FBT0MsSUFBUCxDQUFZRCxPQUFPRSxJQUFQLENBQVlDLHVCQUF4QixFQUFpRCxLQUFqRCxDQUFKLEVBQTZEOztBQUV6REosZ0JBQUlLLEdBQUosQ0FBUVIsUUFBUUksT0FBT0MsSUFBUCxDQUFZRCxPQUFPRSxJQUFQLENBQVlHLHVCQUF4QixFQUFpRCxFQUFqRCxFQUFxRDtBQUNqRUMsc0JBQU0sZ0JBRDJEO0FBRWpFQyx3QkFBUVAsT0FBT0MsSUFBUCxDQUFZRCxPQUFPRSxJQUFQLENBQVlNLE1BQXhCLEVBQWdDUixPQUFPUyxRQUFQLENBQWdCRCxNQUFoRCxDQUZ5RDtBQUdqRUUsd0JBQVEsS0FIeUQ7QUFJakVDLG1DQUFtQixJQUo4QztBQUtqRUMsdUJBQU9aLE9BQU9DLElBQVAsQ0FBWUQsT0FBT0UsSUFBUCxDQUFZVyxxQkFBeEIsRUFBK0MsSUFBL0M7QUFMMEQsYUFBckQsQ0FBUixDQUFSO0FBUUg7QUFFSjtBQWhCZTs7QUFtQnBCLGVBQWUsSUFBSWhCLGFBQUosRUFBZiIsImZpbGUiOiJTZXNzaW9uRmlsdGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNlc3Npb24gZnJvbSAnZXhwcmVzcy1zZXNzaW9uJztcblxuLyoqXG4gKiBTZXNzaW9uRmlsdGVyIFxuICogQGltcGxlbWVudHMge0ZpbHRlcn1cbiAqL1xuY2xhc3MgU2Vzc2lvbkZpbHRlciB7XG5cbiAgICBhcHBseShhcHAsIGNvbmZpZykge1xuXG4gICAgICAgIGlmIChjb25maWcucmVhZChjb25maWcua2V5cy5GSUxURVJTX1NFU1NJT05fRU5BQkxFRCwgZmFsc2UpKSB7XG5cbiAgICAgICAgICAgIGFwcC51c2Uoc2Vzc2lvbihjb25maWcucmVhZChjb25maWcua2V5cy5GSUxURVJTX1NFU1NJT05fT1BUSU9OUywge30sIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnQ1JZSU5HWkFOR09MSUUnLFxuICAgICAgICAgICAgICAgIHNlY3JldDogY29uZmlnLnJlYWQoY29uZmlnLmtleXMuU0VDUkVULCBjb25maWcuZGVmYXVsdHMuU0VDUkVUKSxcbiAgICAgICAgICAgICAgICByZXNhdmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNhdmVVbmluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0b3JlOiBjb25maWcucmVhZChjb25maWcua2V5cy5GSUxURVJTX1NFU1NJT05fU1RPUkUsIG51bGwpXG4gICAgICAgICAgICB9KSkpO1xuXG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNlc3Npb25GaWx0ZXIoKVxuIl19