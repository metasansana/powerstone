{"version":3,"sources":["../../src/common/BulkLookup.js"],"names":[],"mappings":";;;;;;;;;;;;0CAAuC,8BAA8B;;;;;;;;;;;;;;;;;;;;IAiB/D,UAAU;AAED,aAFT,UAAU,CAEA,MAAM,EAAE;8BAFlB,UAAU;;AAIR,YAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;AACvB,YAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;KAEtB;;;;;;;;iBAPC,UAAU;;eAcT,aAAC,IAAI,EAAE,MAAM,EAAE;;AAEd,gBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;AAC7B,mBAAO,IAAI,CAAC;SAEf;;;eAEK,gBAAC,IAAI,EAAE;;AAET,gBAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAC9B,gBAAI,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;AACrB,gBAAI,MAAM,GAAG,IAAI,CAAC;;AAElB,gBAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAClB,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;;AAE3B,kBAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;;AAE/B,gBAAI,CAAC,MAAM,EACP,MAAM,4CAA+B,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE3D,mBAAO,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAElC;;;WArCC,UAAU;;;qBAyCD,UAAU","file":"BulkLookup.js","sourcesContent":["import UnknownResourceLookupError from './UnknownResourceLookupError';\n\n/**\n * BulkLookup provides an api that lets client code determine which\n * lookup to invoke to locate a piece of code we want to utilize.\n *\n * It works by utilizing a URL like string where the scheme tells us what \n * lookup to use.\n * Example:\n * ```javascript\n *  \n *   'require://path-to-file-to-require'\n *\n * ```\n * @param {ResourceLookup} lookup The default lookup to use if nothing else matches.\n * @implements {ResourceLookup}\n */\nclass BulkLookup {\n\n    constructor(lookup) {\n\n        this._default = lookup;\n        this._lookups = {};\n\n    }\n\n    /**\n     * add a lookup to the internal list\n     * @param {string} name \n     * @param {ResourceLookup} lookup\n     */\n    add(name, lookup) {\n\n        this._lookups[name] = lookup;\n        return this;\n\n    }\n\n    lookup(path) {\n\n        var parts = path.split('://');\n        var scheme = parts[0]\n        var lookup = null;\n\n        if (parts.length === 1)\n            lookup = this._default;\n\n        lookup = this._lookups[scheme];\n\n        if (!lookup)\n            throw new UnknownResourceLookupError(scheme, parts[1]);\n\n        return lookup.lookup(parts[1]);\n\n    }\n\n}\n\nexport default BulkLookup\n"]}