{"version":3,"sources":["../../src/web/WebModule.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;uBAAoB,SAAS;;;;mCACH,yBAAyB;;;;4BAChC,kBAAkB;;;;IAE/B,SAAS;cAAT,SAAS;;aAAT,SAAS;8BAAT,SAAS;;mCAAT,SAAS;;;iBAAT,SAAS;;eAED,qBAAC,QAAQ,EAAE,GAAG,EAAE;;AAEtB,mBAAO,IAAI,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAClC,qCAAkB,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;SAEvE;;;eAEU,uBAAG,EAIb;;;eAEQ,mBAAC,KAAK,EAAE,MAAM,EAAE;;;AAErB,gBAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,iCAAc,IAAI,CAAC,IAAI,QAAM,IAAI,CAAC,IAAI,CAAG,CAAC;AACtF,gBAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,iCAAc,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AAC7E,gBAAI,QAAQ,GAAM,KAAK,SAAI,IAAI,AAAE,CAAC;AAClC,gBAAI,MAAM,CAAC;;AAEX,kBAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CACnB,OAAO,CAAC,UAAA,IAAI,EAAI;;AAEZ,sBAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CACzB,GAAG,CAAC,UAAA,MAAM,EAAI;;AAEV,2BAAO,GAAG,IAAI,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC5E,2BAAO,CAAC,KAAK,CAAC,MAAK,QAAQ,CAAC,CAAC;iBAEhC,CAAC,CAAC;aAEN,CAAC,CAAC;;AAEH,gBAAI,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AAClD,kBAAM,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAElC;;;WAtCC,SAAS;;;qBAyCA,SAAS","file":"WebModule.js","sourcesContent":["import express from 'express';\nimport Configuration from '../common/Configuration';\nimport Module from '../common/Module';\n\nclass WebModule extends Module {\n\n   __submodule(resource, app) {\n\n        return new WebModule(resource.basename,\n            new Configuration('webconf', resource.path), this.context, app);\n\n    }\n\n    __framework() {\n\n\n\n    }\n\n    __routing(point, parent) {\n\n        var path = this.configuration.readOrDefault(Configuration.keys.PATH, `/${this.name}`);\n        var routes = this.configuration.readOrDefault(Configuration.keys.ROUTES, {});\n        var location = `${point}/${path}`;\n        var action;\n\n        Object.keys(routes).\n        forEach(path => {\n\n            Object.keys(routes[path]).\n            map(method => {\n\n                actions = new Actions(method, path, Delegates.create(routes[path][method]));\n                actions.apply(this._handler);\n\n            });\n\n        });\n\n        this.submodules.__routing(location, this.handler);\n        parent.use(path, this.handler);\n\n    }\n}\n\nexport default WebModule\n"]}